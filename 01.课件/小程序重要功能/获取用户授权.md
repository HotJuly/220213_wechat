# 用户授权

1. 截至到2022/8/20,一共出现了3种获取用户授权的方案,目前可用的仅剩1种
2. 最新版本的用户授权方案
   1. API:wx.getUserProfile(配置对象)
   2. 流程:
      1. 在wxml中添加一个button组件,同时给他绑定tap事件,以及回调函数
      2. 在回调函数中调用wx.getUserProfile方法,可以实现弹出授权窗口效果,询问用户是否允许给予授权
      3. 如果用户点击允许,在success回调函数中,可以通过形参获取到用户的相关信息
      4. 将用户信息更新到data中存储,并在wxml中使用插值语法进行展示
   3. 注意点:
      1. 必传参数有两个
         1. desc属性,告知使用途径,虽然看着没用,但是不写不行
            1. 不能写数字和空字符串
         2. success属性,用于获取用户的个人信息
      2. 想要成功调用该API,必须要在点击事件的回调函数中执行才可以,其他地方无效