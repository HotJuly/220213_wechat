# Vue生命周期

1. Vue一共具有多少个生命周期?
   1. 一共11个,常用8个
   2. 扩展:其实是12个,后端渲染中还有一个专用的
2. 阶段划分
   1. 初始化阶段
      1. beforeCreate
      2. created
         1. 含义:代表组件创建结束了
         2. 发送请求
         3. 两个地方发送请求的区别:
            1. created的执行时机早于mounted,所以请求更早出去,正常情况下也更早回来
               1. 由于数据更早回来,所以页面看到数据的时间也更早
            2. 在此处如果做太多密集型逻辑操作(简单来说就是很费时的事情),会导致后续所有代码的执行时间被延迟,其中就包括挂载页面,那么用户看到页面的时机就会更晚
         4. 小总结:在created里面,尽量不要做太多的事情
      3. beforeMount
      4. mounted
         1. 含义:代表页面挂载结束了
         2. 发送请求
            1. 发送请求的区别:
               1. 此处做任何事情都不会影响到页面的渲染
               2. 速度比较慢,首次渲染出来的页面基本都是无用页面
         3. 开启定时器
         4. 绑定事件总线
         5. 做与DOM相关的操作(DOM相关的只能在mounted之后才能执行)
            1. 获取焦点
            2. Swiper
            3. 滑动库相关(betterScroll)
   2. 更新阶段
      1. beforeUpdate
         1. 含义:组件更新之前
         2. 可以拿到最新的数据,但是看不到最新的页面(因为Vue数据更新是同步更新,视图更新是异步更新)
      2. updated
         1. 含义:组件更新之后
         2. 可以拿到最新的数据,可以看到最新的页面
         3. 二次操作真实DOM相关内容
   3. 卸载阶段
      1. beforeDestroy
         1. 清除定时器
         2. **解绑事件**
            1. **问题1:请问使用@绑定的原生事件是否需要手动解绑?**
               1. **不需要,因为@符经过了Vue的解析,他知道有这个事件,会自动解绑**
            2. **问题2:请问使用onclick语法或者addEventListener绑定的原生事件是否需要手动解绑?**
               1. **需要,因为该类语法没有经过Vue的解析,他不知道有这个事件,需要手动解绑**
            3. **问题3:请问使用@或者$on绑定的自定义事件,是否需要手动解绑?**
               1. **Vue在卸载组件的时候,会自动解绑当前组件身上所有的自定义事件,不需要手动解绑**
            4. **问题4:请问给事件总线对象绑定的自定义事件,是否需要手动解绑?**
               1. **需要,由于全局事件总线对象不会随着任何一个组件对象销毁而销毁,所以很有可能导致之前绑定的消息订阅会出现遗留效果,最终越绑定越多**
               2. **注意:所以在组件卸载的时候,一定要清除当前组件绑定的所有的全局事件总线消息**
      2. destroyed
   4. keep-alive专用
      1. activated(激活)
      2. deactivated(失活)
   5. 捕获报错专用
      1. errorCaptured
   6. 后端渲染专用
      1. serverPrefetch